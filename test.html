<script src="https://www.gstatic.com/charts/loader.js"></script>
<script>
var path = "https://www.pref.ehime.jp/opendata-catalog/dataset/2174/resource/7073/380008_ehime_covid19_patients.csv";
var csvData = new Array();

google.charts.load('current', {packages: ['corechart']});
google.charts.setOnLoadCallback(drawChart);

function formatDate(dt) {
	var y = dt.getFullYear();
	var m = dt.getMonth() + 1;
	var d = dt.getDate();
	return y + '/' + m + '/' + d;
}

function getNextDay(dt){
	dt.setDate(dt.getDate() + 1);
	return dt;
}

function drawChart() {
	/**/document.writeln(path);
	var csv = new XMLHttpRequest();
	csv.open("GET", path, false);
	//csv.send(null);
	csv.onload = function(){
		var lines = csv.responseText.split('\n');
		/**/document.writeln(lines.length);
		/**/document.writeln(lines[0]);
		for(var i = 0; i < lines.length; i++){
			var cells = lines[i].split(",");
			/**/document.writeln(cells.length);
			/**/document.writeln(cells[0]);
			if(cells.length > 0){
				csvData.push(cells);
				/**/document.writeln(cells);
			}
		}
	};
}
</script>
